

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Hyperledger Fabric’s Application Development Practices &mdash; Zeeve 1.6.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Hyperledger Sawtooth’s Application Development Practices" href="developmentSawtooth.html" />
    <link rel="prev" title="Development Practices" href="DevelopmentPractices.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> Zeeve
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="Zeeve User Manual.html">What is Zeeve?</a></li>
<li class="toctree-l1"><a class="reference internal" href="ZeeveOverview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="AccountCreation.html">Account Creation</a></li>
<li class="toctree-l1"><a class="reference internal" href="cloud_authorization.html">Cloud Authorizations</a></li>
<li class="toctree-l1"><a class="reference internal" href="Howtocreatemyfirstnetwork.html">How to create my first Network?</a></li>
<li class="toctree-l1"><a class="reference internal" href="HyperledgerFabric.html">Hyperledger Fabric Dedicated Node Setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="Ethereum.html">Ethereum Dedicated Node Setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="Corda.html">Corda</a></li>
<li class="toctree-l1"><a class="reference internal" href="Credits.html">Credits Deployment Specifications</a></li>
<li class="toctree-l1"><a class="reference internal" href="Product_configure.html">Product Configurations</a></li>
<li class="toctree-l1"><a class="reference internal" href="DevelopmentPractices.html">Development Practices</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Hyperledger Fabric’s Application Development Practices</a></li>
<li class="toctree-l1"><a class="reference internal" href="developmentSawtooth.html">Hyperledger Sawtooth’s Application Development Practices</a></li>
<li class="toctree-l1"><a class="reference internal" href="NetworkScalability.html">Scaling Networks</a></li>
<li class="toctree-l1"><a class="reference internal" href="PerformanceMetrics.html">Performance Metrics</a></li>
<li class="toctree-l1"><a class="reference internal" href="Blockchain_Protocols.html">Major Blockchain Protocols</a></li>
<li class="toctree-l1"><a class="reference internal" href="References.html">References</a></li>
<li class="toctree-l1"><a class="reference internal" href="zeeveDistributedFileSystem.html">Zeeve Distributed File System</a></li>
<li class="toctree-l1"><a class="reference internal" href="Zeeve_Support.html">Zeeve Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="Glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="Releases.html">Releases</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Zeeve</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Hyperledger Fabric’s Application Development Practices</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/developmentHLF.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="hyperledger-fabric-s-application-development-practices">
<h1>Hyperledger Fabric’s Application Development Practices<a class="headerlink" href="#hyperledger-fabric-s-application-development-practices" title="Permalink to this headline">¶</a></h1>
<p>Refer to <a class="reference external" href="https://github.com/sanyam-gupta583/balance-transfer-zeeve">Sample Project</a></p>
<p>Certain practices can help the developer create applications which are one click deployable on Zeeve. They are:-</p>
<ul>
<li><p>For packaging your product to be automated by Zeeve, you will need to <a class="reference external" href="https://docs.docker.com/engine/examples/">dockerize</a> your project’s services by creating <code class="docutils literal notranslate"><span class="pre">Dockerfiles</span></code> for them.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">FROM</span> <span class="n">node</span><span class="p">:</span><span class="mf">8.9.0</span>

<span class="n">WORKDIR</span> <span class="o">/</span><span class="n">balance</span><span class="o">-</span><span class="n">transfer</span>

<span class="n">COPY</span> <span class="o">.</span> <span class="o">.</span>
<span class="n">ENV</span> <span class="n">PORT</span><span class="o">=</span><span class="mi">4000</span>
<span class="n">RUN</span> <span class="n">npm</span> <span class="n">install</span>
<span class="n">CMD</span> <span class="n">node</span> <span class="n">app</span>
</pre></div>
</div>
</li>
<li><p>Make use of <code class="docutils literal notranslate"><span class="pre">network-config.yaml</span></code> (connections profiles) and <code class="docutils literal notranslate"><span class="pre">org.yaml</span></code> (if required) for all blockchain related configurations. At the time of deployment for a network, Zeeve creates these files and allows the developer to download them along with the other artifacts. You can consider this file to develop your applications. All other application configs should be part of the Docker image itself.</p></li>
<li><p>Create a <code class="docutils literal notranslate"><span class="pre">.env</span></code> file containing an array of domain prefixes corrosponding to Ingress resource definitions. The syntax should be of the form:
<code class="docutils literal notranslate"><span class="pre">(&quot;&lt;domain_prefix_1&gt;:&lt;ingress_resource_name_1&gt;&quot;</span> <span class="pre">&quot;&lt;domain_prefix_2&gt;:&lt;ingress_resource_name_2&gt;</span> <span class="pre">...&quot;)</span></code></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">EXT_EXPOSED_SERVICES</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;balancetranfer:balance-transfer-ingress&quot;</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p>Create a <code class="docutils literal notranslate"><span class="pre">docker-compose-build.yaml</span></code> file for creating images of all services that your application requires. This will help Zeeve create relevant images, push them to the container-registry and later use them.</p>
<ul class="simple">
<li><p>Each service definition whose container image would be created needs to have an <code class="docutils literal notranslate"><span class="pre">image</span></code> keyword, the associated value needs to same as that of image name (Deployment.contianers.spec.containers.image) in k8_application.yaml.template.</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">version</span><span class="p">:</span> <span class="s2">&quot;2.0&quot;</span>

<span class="n">services</span><span class="p">:</span>
  <span class="n">balance</span><span class="o">-</span><span class="n">transfer</span><span class="p">:</span>
    <span class="n">build</span><span class="p">:</span>
      <span class="n">context</span><span class="p">:</span> <span class="o">.</span>
      <span class="n">dockerfile</span><span class="p">:</span> <span class="n">Dockerfile</span>
    <span class="n">image</span><span class="p">:</span> <span class="n">balance</span><span class="o">-</span><span class="n">transfer</span><span class="p">:</span><span class="n">latest</span>
    <span class="n">container_name</span><span class="p">:</span> <span class="n">balance</span><span class="o">-</span><span class="n">transfer</span><span class="o">-</span><span class="n">default</span>
    <span class="n">ports</span><span class="p">:</span>
      <span class="o">-</span> <span class="s1">&#39;4000:4000&#39;</span>
    <span class="n">command</span><span class="p">:</span> <span class="o">|</span>
      <span class="n">bash</span> <span class="o">-</span><span class="n">c</span> <span class="s2">&quot;PORT=4000 node app&quot;</span>
    <span class="n">restart</span><span class="p">:</span> <span class="n">always</span>
</pre></div>
</div>
</li>
<li><p>Create a yaml file <code class="docutils literal notranslate"><span class="pre">k8_application.yaml.template</span></code> and keep it at your project’s root folder.
The file needs to keep the following points in account:-</p>
<ul class="simple">
<li><p>The image name for containers needs to adhere to the guideline outlined in the step above.</p></li>
<li><p>Define an <code class="docutils literal notranslate"><span class="pre">imagePullSecrets</span></code> named container-registry-cred. Creation and updation of this secret is handled by Zeeve, but the definition is developers responsibility.</p></li>
<li><p>For mounting relevant crypto data and channel artifacts in a deployment, Zeeve will create secrets and mount them on <code class="docutils literal notranslate"><span class="pre">/crypto-data</span></code> path. The deployment/s on which this mounting takes place is identified by special character string <code class="docutils literal notranslate"><span class="pre">&#64;&#64;replace_my_crypto_artifacts&#64;&#64;</span></code>.</p></li>
<li><p>Host for each Ingress resource will be an amalgamation of information specified in .env file and domain assigned to your Kubernetes cluster.</p></li>
<li><p>Take special care to mount relevant persistent volumes as pods will be recreated whenever there is an application update.</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">apiVersion</span><span class="p">:</span> <span class="n">v1</span>
<span class="n">kind</span><span class="p">:</span> <span class="n">Service</span>
<span class="n">metadata</span><span class="p">:</span>
  <span class="n">name</span><span class="p">:</span> <span class="n">balance</span><span class="o">-</span><span class="n">transfer</span><span class="o">-</span><span class="n">svc</span>
<span class="n">spec</span><span class="p">:</span>
  <span class="nb">type</span><span class="p">:</span> <span class="n">ClusterIP</span>
  <span class="n">ports</span><span class="p">:</span>
    <span class="o">-</span> <span class="n">port</span><span class="p">:</span> <span class="mi">4000</span>
      <span class="n">targetPort</span><span class="p">:</span> <span class="mi">4000</span>
      <span class="n">protocol</span><span class="p">:</span> <span class="n">TCP</span>
  <span class="n">selector</span><span class="p">:</span>
    <span class="n">name</span><span class="p">:</span> <span class="n">balance</span><span class="o">-</span><span class="n">transfer</span><span class="o">-</span><span class="n">dep</span>

 <span class="o">---</span>
<span class="n">apiVersion</span><span class="p">:</span> <span class="n">apps</span><span class="o">/</span><span class="n">v1</span>
<span class="n">kind</span><span class="p">:</span> <span class="n">Deployment</span>
<span class="n">metadata</span><span class="p">:</span>
  <span class="n">name</span><span class="p">:</span> <span class="n">balance</span><span class="o">-</span><span class="n">transfer</span><span class="o">-</span><span class="n">dep</span>
<span class="n">spec</span><span class="p">:</span>
  <span class="n">replicas</span><span class="p">:</span> <span class="mi">1</span>
  <span class="n">selector</span><span class="p">:</span>
    <span class="n">matchLabels</span><span class="p">:</span>
      <span class="n">name</span><span class="p">:</span> <span class="n">balance</span><span class="o">-</span><span class="n">transfer</span>
  <span class="n">template</span><span class="p">:</span>
    <span class="n">metadata</span><span class="p">:</span>
      <span class="n">labels</span><span class="p">:</span>
        <span class="n">name</span><span class="p">:</span> <span class="n">balance</span><span class="o">-</span><span class="n">transfer</span>
    <span class="n">spec</span><span class="p">:</span>
      <span class="n">volumes</span><span class="p">:</span>
        <span class="c1">#- name: balance-transfer-data</span>
        <span class="c1">#  persistentVolumeClaim:</span>
        <span class="c1">#    claimName: balance-transfer-data-pvc</span>
            <span class="o">@</span><span class="nd">@replace_my_crypto_artifacts</span><span class="o">@@</span>
      <span class="n">imagePullSecrets</span><span class="p">:</span>
      <span class="o">-</span> <span class="n">name</span><span class="p">:</span> <span class="n">container</span><span class="o">-</span><span class="n">registry</span><span class="o">-</span><span class="n">cred</span>
      <span class="n">containers</span><span class="p">:</span>
        <span class="o">-</span> <span class="n">name</span><span class="p">:</span> <span class="n">balance</span><span class="o">-</span><span class="n">transfer</span>
          <span class="n">image</span><span class="p">:</span> <span class="n">balance</span><span class="o">-</span><span class="n">transfer</span><span class="p">:</span><span class="mi">12</span>
          <span class="n">imagePullPolicy</span><span class="p">:</span> <span class="n">Always</span>
          <span class="n">ports</span><span class="p">:</span>
            <span class="o">-</span> <span class="n">containerPort</span><span class="p">:</span> <span class="mi">4000</span>
              <span class="n">protocol</span><span class="p">:</span> <span class="n">TCP</span>
          <span class="c1">#livenessProbe:</span>
          <span class="c1">#  httpGet:</span>
          <span class="c1">#    path: /</span>
          <span class="c1">#    port: 4000</span>
          <span class="n">command</span><span class="p">:</span>
            <span class="o">-</span> <span class="n">bash</span>
            <span class="o">-</span> <span class="o">-</span><span class="n">c</span>
            <span class="o">-</span> <span class="o">|</span>
              <span class="n">echo</span> <span class="s2">&quot;installing GO&quot;</span> 
              <span class="n">cd</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span>
              <span class="n">curl</span> <span class="o">-</span><span class="n">O</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">dl</span><span class="o">.</span><span class="n">google</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">go</span><span class="o">/</span><span class="n">go1</span><span class="mf">.10.3</span><span class="o">.</span><span class="n">linux</span><span class="o">-</span><span class="n">amd64</span><span class="o">.</span><span class="n">tar</span><span class="o">.</span><span class="n">gz</span>
              <span class="n">tar</span> <span class="o">-</span><span class="n">xvf</span> <span class="n">go1</span><span class="mf">.10.3</span><span class="o">.</span><span class="n">linux</span><span class="o">-</span><span class="n">amd64</span><span class="o">.</span><span class="n">tar</span><span class="o">.</span><span class="n">gz</span>
              <span class="n">echo</span> <span class="s2">&quot;export PATH=$PATH:/usr/local/go/bin&quot;</span> <span class="o">&gt;&gt;</span> <span class="o">/</span><span class="n">root</span><span class="o">/.</span><span class="n">bashrc</span>
              <span class="n">source</span> <span class="o">/</span><span class="n">root</span><span class="o">/.</span><span class="n">bashrc</span>

              <span class="n">echo</span> <span class="s2">&quot;configuring application&quot;</span>
              <span class="n">mkdir</span> <span class="o">/</span><span class="n">application</span>
              <span class="n">cd</span> <span class="o">/</span><span class="n">application</span>
              <span class="n">cp</span> <span class="o">-</span><span class="n">r</span> <span class="o">/</span><span class="n">balance</span><span class="o">-</span><span class="n">transfer</span><span class="o">/*</span> <span class="o">./</span>
              <span class="n">cp</span> <span class="o">-</span><span class="n">Lr</span> <span class="o">/</span><span class="n">crypto</span><span class="o">-</span><span class="n">data</span><span class="o">/*</span> <span class="o">./</span><span class="n">artifacts</span><span class="o">/</span>
              <span class="c1">#npm install</span>
              <span class="n">node</span> <span class="n">app</span>
          <span class="n">volumeMounts</span><span class="p">:</span>
            <span class="c1">#- mountPath: /application</span>
            <span class="c1">#  name: balance-transfer-data</span>
              <span class="o">@</span><span class="nd">@replace_my_crypto_artifacts</span><span class="o">@@</span>
<span class="o">---</span>
<span class="n">kind</span><span class="p">:</span> <span class="n">PersistentVolumeClaim</span>
<span class="n">apiVersion</span><span class="p">:</span> <span class="n">v1</span>
<span class="n">metadata</span><span class="p">:</span>
  <span class="n">name</span><span class="p">:</span> <span class="n">balance</span><span class="o">-</span><span class="n">transfer</span><span class="o">-</span><span class="n">data</span><span class="o">-</span><span class="n">pvc</span>
<span class="n">spec</span><span class="p">:</span>
  <span class="n">accessModes</span><span class="p">:</span>
    <span class="o">-</span> <span class="s2">&quot;ReadWriteOnce&quot;</span>
  <span class="n">resources</span><span class="p">:</span>
    <span class="n">requests</span><span class="p">:</span>
      <span class="n">storage</span><span class="p">:</span> <span class="s2">&quot;5Gi&quot;</span>

<span class="o">---</span>
<span class="n">apiVersion</span><span class="p">:</span> <span class="n">extensions</span><span class="o">/</span><span class="n">v1beta1</span>
<span class="n">kind</span><span class="p">:</span> <span class="n">Ingress</span>
<span class="n">metadata</span><span class="p">:</span>
  <span class="n">name</span><span class="p">:</span> <span class="n">balance</span><span class="o">-</span><span class="n">transfer</span><span class="o">-</span><span class="n">ingress</span>
  <span class="n">annotations</span><span class="p">:</span>
    <span class="n">kubernetes</span><span class="o">.</span><span class="n">io</span><span class="o">/</span><span class="n">ingress</span><span class="o">.</span><span class="n">class</span><span class="p">:</span> <span class="n">nginx</span>
    <span class="n">nginx</span><span class="o">.</span><span class="n">ingress</span><span class="o">.</span><span class="n">kubernetes</span><span class="o">.</span><span class="n">io</span><span class="o">/</span><span class="n">backend</span><span class="o">-</span><span class="n">protocol</span><span class="p">:</span> <span class="s2">&quot;http&quot;</span>
<span class="n">spec</span><span class="p">:</span>
  <span class="n">rules</span><span class="p">:</span>
    <span class="o">-</span> <span class="n">host</span><span class="p">:</span> 
      <span class="n">http</span><span class="p">:</span>
        <span class="n">paths</span><span class="p">:</span>
        <span class="o">-</span> <span class="n">backend</span><span class="p">:</span>
            <span class="n">serviceName</span><span class="p">:</span> <span class="n">balance</span><span class="o">-</span><span class="n">transfer</span><span class="o">-</span><span class="n">svc</span>
            <span class="n">servicePort</span><span class="p">:</span> <span class="mi">4000</span>
</pre></div>
</div>
</li>
<li><p>While uploading the project attach some supporting documents to explain the organisation names and other details that shall be put while creating networks for the product. These documents will help users to create and deploy networks and products on their own.</p></li>
</ul>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="developmentSawtooth.html" class="btn btn-neutral float-right" title="Hyperledger Sawtooth’s Application Development Practices" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="DevelopmentPractices.html" class="btn btn-neutral float-left" title="Development Practices" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Zeeve

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>